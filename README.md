# _TextRankPlus_: _more than TextRank algorithm_

使用[*word2vec*](https://towardsdatascience.com/introduction-to-word-embedding-and-word2vec-652d0c2060fa)算法计算单词的空间距离进行关键词提取和**单词移动距离**(*RWMD*)算法进行关键句提取,欢迎大家*start*和代码贡献

![NLP](data/text_rank_coin.png)

# *python*依赖包介绍
[pyltp>=0.1.9.1](https://github.com/HIT-SCIR/ltp)      
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[哈工大LTP](https://github.com/HIT-SCIR/pyltp) python软件包，用于分词和词性标注  
&#160;[networkx>=1.11](http://networkx.github.io/)  
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;构建单词之间的关系图，计算每个单词的权重  
[gensim>=1.0.1](https://radimrehurek.com/gensim/)   
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;训练*word2vec*模型  
[numpy>=1.11.3](https://www.numpy.org/)   
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;*python*矩阵和张量计算  
[pyemd>=0.4.3](https://github.com/wmayner/pyemd)    
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;快速计算单词移动距离  
[python2.7](https://www.python.org/) 或 [python>=3.5](https://www.python.org/)  

## 命令行安装依赖包
```bash
pip install -r requirements.txt
```

# 下载*ltp*分词、词性标注模型和与训练的*word2vec*模型
1. 从百度云下载*ltp_data*模型文件 :&nbsp;&nbsp;http://pan.baidu.com/s/1hsqYX5U  
    下载慢可使用[Pandownloader](https://www.baiduwp.com/)
2. *ltp_data*文件夹放置到*TextRankPlus*目录
3. 下载*word2vec*模型文件:&nbsp;&nbsp;http://pan.baidu.com/s/1mhCpm8w
4. 把下载的3个*word2vec*模型文件放置到 TextRankPlus/word2vec 目录下

# 改进的*TextRank*用法
```python
from easynlp import easynlp
raw_text = '''5月12日，保险业学习贯彻习近平总书记关于金融工作重要讲话精神专题培训班在京举行。中国保监会副主席陈文辉就深入贯彻习近平总书记关于金融工作的系列重要讲话精神，进一步强化保险监管，防范保险市场风险，促进行业健康发展，维护国家金融安全做报告。中央纪委驻保监会纪检组组长陈新权，保监会副主席黄洪、梁涛出席。
　　陈文辉指出，习近平总书记关于金融工作的重要论述，特别是在中央政治局第四十次集体学习上的重要讲话，高屋建瓴、思想深刻、内容全面，是以习近平同志为核心的党中央治国理政新理念新思想新战略的重要组成部分，具有重大现实意义和深远历史意义，是全面做好金融工作、切实维护国家金融安全的根本指针和重要遵循。保险业要以高度的政治自觉，深入学习、深化认识、全面领会，将思想和行动高度统一到习近平总书记重要讲话精神上来，站在坚持总体国家安全观的政治高度，深刻认识维护金融安全的极端重要性，全面提升新形势下金融工作的能力。
　　陈文辉指出，要站在维护国家金融安全的高度深刻认识保险业和保险监管面临的形势和要求。要深刻理解中央对金融工作的要求，提高保险工作的政治站位，置身于服务中央治国理政的大逻辑下把握保险工作，站在维护国家安全和金融安全的高度把握保险工作，找准促进经济平稳健康发展的切入点把握保险工作。要围绕加强和巩固党的执政地位、协调推进“四个全面”战略布局、落实中央重大决策部署来统筹推进各项改革，坚持专注保险主业，回归金融服务经济的发展本源，着力发展党和人民需要的金融保险事业，为实体经济发展创造良好金融环境。要深刻把握保险行业面临的困难和挑战，增强做好保险工作的危机感和紧迫感，强化问题导向，加强改进金融监管和风险防控工作，增强风险防范意识，未雨绸缪，坚决治理市场乱象，切实守住风险底线，有效化解和平稳处置一批风险点。要深刻认识保险监管工作存在的不足，增强做好保险监管工作的责任感和使命感，不断加强监管制度建设，及时弥补监管短板，着力提升监管水平，强化监管工作力度，深入推进反腐倡廉工作，重构行业风清气正的政治生态。
　　陈文辉强调，学习贯彻习近平总书记关于金融工作的重要讲话精神，必须坚持“两手抓，两手硬”。在政治上，就是要继续深化“两学一做”学习教育，自觉用习近平总书记治国理政思想和关于金融工作重要讲话精神武装头脑、指导实践。在业务上，就是要按照习近平总书记关于做好金融工作的要求，围绕“金融活，经济活；金融稳，经济稳”总体方针，抓好近期保监会“1+4”系列文件的落实。下一步，保险监管系统要切实坚持“保险业姓保、保监会姓监”，全力抓好系列文件的落实，坚决守住不发生系统性风险底线，整治保险市场乱象，补齐监管和行业短板，更好地支持实体经济，筑牢保险业稳定健康发展的根基。同时，要着眼全局，加强监管统筹和协调，把握监管力度和节奏，细化落实措施，充分评估监管政策效果，加强对市场形势的研判和应对，同步做好政策解读，稳定市场预期，稳妥推进相关工作。'''
# 获取排序的关键词排序结果写入文件
sorted_words = easynlp.get_keyword(raw_text)
print(sorted_words)
```

# 模型生成的词云
![词云](data/tr.png)

# _todo_
- 基于*bilstm*+*crf*的关键词提取  
- *python*模块松耦合
- 添加*pypi*支持
- 添加更多nlp模块
- 添加lazy import特性